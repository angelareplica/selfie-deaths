{"id":"ZzEY","dependencies":[{"name":"/Users/angelawang/Documents/GitHub/selfie-deaths/package.json","includedInParent":true,"mtime":1541632472690},{"name":"d3","loc":{"line":1,"column":20},"parent":"/Users/angelawang/Documents/GitHub/selfie-deaths/src/choropleth-chart.js","resolved":"/Users/angelawang/Documents/GitHub/selfie-deaths/node_modules/d3/index.js"},{"name":"topojson","loc":{"line":2,"column":26},"parent":"/Users/angelawang/Documents/GitHub/selfie-deaths/src/choropleth-chart.js","resolved":"/Users/angelawang/Documents/GitHub/selfie-deaths/node_modules/topojson/index.js"},{"name":"d3-svg-legend","loc":{"line":3,"column":19},"parent":"/Users/angelawang/Documents/GitHub/selfie-deaths/src/choropleth-chart.js","resolved":"/Users/angelawang/Documents/GitHub/selfie-deaths/node_modules/d3-svg-legend/indexRollupNext.js"},{"name":"./data/selfiedeaths_grouped_coded_allcountries_fix.csv","loc":{"line":88,"column":17},"parent":"/Users/angelawang/Documents/GitHub/selfie-deaths/src/choropleth-chart.js","resolved":"/Users/angelawang/Documents/GitHub/selfie-deaths/src/data/selfiedeaths_grouped_coded_allcountries_fix.csv"}],"generated":{"js":"\"use strict\";var t=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],a=!0,o=!1,n=void 0;try{for(var i,l=t[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!e||r.length!==e);a=!0);}catch(t){o=!0,n=t}finally{try{!a&&l.return&&l.return()}finally{if(o)throw n}}return r}(t,e);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}(),e=require(\"d3\"),r=s(e),a=require(\"topojson\"),o=s(a),n=require(\"d3-svg-legend\"),i=l(n);function l(t){return t&&t.__esModule?t:{default:t}}function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var u={top:10,left:10,right:10,bottom:10},c=500-u.top-u.bottom,d=900-u.left-u.right,f=r.select(\"#choropleth-chart\").append(\"svg\").attr(\"height\",c+u.top+u.bottom).attr(\"width\",d+u.left+u.right).append(\"g\").attr(\"transform\",\"translate(\"+u.left+\",\"+u.top+\")\"),h=r.geoEqualEarth().scale(d/2/Math.PI).translate([d/2,c/2]),p=r.geoPath().projection(h),g=r.map(),v=r.scaleThreshold().domain(r.range(0,160)).range(r.schemeRdPu[8]),m=[r.json(\"https://enjalot.github.io/wwsd/data/world/world-110m.geojson\"),r.csv(require(\"./data/selfiedeaths_grouped_coded_allcountries_fix.csv\"),function(t){g.set(t.code,+t.Casualties)})];function y(e){var r=t(e,1)[0];f.append(\"g\").attr(\"class\",\"countries\").selectAll(\"path\").data(r.features).enter().append(\"path\").attr(\"fill\",function(t){return t?v(t.Casualties=g.get(t.id)):\"#ccc\"}).attr(\"d\",p).attr(\"stroke\",\"#888888\").attr(\"stroke-width\",.5)}Promise.all(m).then(y);","map":{"mappings":[{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":0}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":13}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":17}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":19}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":30}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":37}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":46}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":48}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":51}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":54}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":60}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":68}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":71}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":78}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":80}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":83}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":90}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":102}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":109}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":112}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":119}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":128}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":130}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":133}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":137}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":139}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":142}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":145}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":147}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":150}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":152}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":159}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":161}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":165}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":169}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":173}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":175}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":177}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":179}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":186}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":200}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":203}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":205}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":207}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":215}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":223}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":225}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":230}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":232}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":240}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":243}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":245}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":254}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":257}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":260}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":264}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":270}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":273}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":276}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":278}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":280}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":282}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":290}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":295}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":298}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":300}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":308}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":310}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":319}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":327}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":330}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":332}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":338}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":341}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":348}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":350}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":351}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":353}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":356}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":362}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":366}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":376}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":433}},{"source":"choropleth-chart.js","original":{"line":1,"column":0},"generated":{"line":1,"column":436}},{"source":"choropleth-chart.js","original":{"line":1,"column":0},"generated":{"line":1,"column":438}},{"source":"choropleth-chart.js","original":{"line":1,"column":0},"generated":{"line":1,"column":446}},{"source":"choropleth-chart.js","name":"d3","original":{"line":1,"column":12},"generated":{"line":1,"column":452}},{"source":"choropleth-chart.js","name":"d3","original":{"line":1,"column":12},"generated":{"line":1,"column":454}},{"source":"choropleth-chart.js","name":"d3","original":{"line":1,"column":12},"generated":{"line":1,"column":456}},{"source":"choropleth-chart.js","original":{"line":2,"column":0},"generated":{"line":1,"column":459}},{"source":"choropleth-chart.js","original":{"line":2,"column":0},"generated":{"line":1,"column":461}},{"source":"choropleth-chart.js","original":{"line":2,"column":0},"generated":{"line":1,"column":469}},{"source":"choropleth-chart.js","name":"topojson","original":{"line":2,"column":12},"generated":{"line":1,"column":481}},{"source":"choropleth-chart.js","name":"topojson","original":{"line":2,"column":12},"generated":{"line":1,"column":483}},{"source":"choropleth-chart.js","name":"topojson","original":{"line":2,"column":12},"generated":{"line":1,"column":485}},{"source":"choropleth-chart.js","original":{"line":3,"column":0},"generated":{"line":1,"column":488}},{"source":"choropleth-chart.js","original":{"line":3,"column":0},"generated":{"line":1,"column":490}},{"source":"choropleth-chart.js","original":{"line":3,"column":0},"generated":{"line":1,"column":498}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":515}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":517}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":519}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":522}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":531}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":533}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":536}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":543}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":546}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":548}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":559}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":561}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":562}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":570}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":573}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":582}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":584}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":587}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":590}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":593}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":595}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":606}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":613}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":615}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":619}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":621}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":624}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":627}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":633}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":635}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":639}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":643}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":648}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":650}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":657}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":667}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":682}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":687}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":689}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":694}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":696}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":699}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":701}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":705}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":712}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":714}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":722}},{"source":"choropleth-chart.js","original":{"line":120,"column":1},"generated":{"line":1,"column":724}},{"source":"choropleth-chart.js","original":{"line":6,"column":0},"generated":{"line":1,"column":726}},{"source":"choropleth-chart.js","name":"margin","original":{"line":6,"column":4},"generated":{"line":1,"column":730}},{"source":"choropleth-chart.js","original":{"line":6,"column":13},"generated":{"line":1,"column":732}},{"source":"choropleth-chart.js","name":"top","original":{"line":6,"column":15},"generated":{"line":1,"column":733}},{"source":"choropleth-chart.js","original":{"line":6,"column":20},"generated":{"line":1,"column":737}},{"source":"choropleth-chart.js","name":"left","original":{"line":6,"column":24},"generated":{"line":1,"column":740}},{"source":"choropleth-chart.js","original":{"line":6,"column":30},"generated":{"line":1,"column":745}},{"source":"choropleth-chart.js","name":"right","original":{"line":6,"column":34},"generated":{"line":1,"column":748}},{"source":"choropleth-chart.js","original":{"line":6,"column":41},"generated":{"line":1,"column":754}},{"source":"choropleth-chart.js","name":"bottom","original":{"line":6,"column":45},"generated":{"line":1,"column":757}},{"source":"choropleth-chart.js","original":{"line":6,"column":53},"generated":{"line":1,"column":764}},{"source":"choropleth-chart.js","name":"height","original":{"line":8,"column":4},"generated":{"line":1,"column":768}},{"source":"choropleth-chart.js","original":{"line":8,"column":13},"generated":{"line":1,"column":770}},{"source":"choropleth-chart.js","name":"margin","original":{"line":8,"column":19},"generated":{"line":1,"column":774}},{"source":"choropleth-chart.js","name":"top","original":{"line":8,"column":26},"generated":{"line":1,"column":776}},{"source":"choropleth-chart.js","name":"margin","original":{"line":8,"column":32},"generated":{"line":1,"column":780}},{"source":"choropleth-chart.js","name":"bottom","original":{"line":8,"column":39},"generated":{"line":1,"column":782}},{"source":"choropleth-chart.js","name":"width","original":{"line":10,"column":4},"generated":{"line":1,"column":789}},{"source":"choropleth-chart.js","original":{"line":10,"column":12},"generated":{"line":1,"column":791}},{"source":"choropleth-chart.js","name":"margin","original":{"line":10,"column":18},"generated":{"line":1,"column":795}},{"source":"choropleth-chart.js","name":"left","original":{"line":10,"column":25},"generated":{"line":1,"column":797}},{"source":"choropleth-chart.js","name":"margin","original":{"line":10,"column":32},"generated":{"line":1,"column":802}},{"source":"choropleth-chart.js","name":"right","original":{"line":10,"column":39},"generated":{"line":1,"column":804}},{"source":"choropleth-chart.js","name":"svg","original":{"line":12,"column":4},"generated":{"line":1,"column":810}},{"source":"choropleth-chart.js","name":"d3","original":{"line":12,"column":10},"generated":{"line":1,"column":812}},{"source":"choropleth-chart.js","name":"select","original":{"line":13,"column":3},"generated":{"line":1,"column":814}},{"source":"choropleth-chart.js","original":{"line":13,"column":10},"generated":{"line":1,"column":821}},{"source":"choropleth-chart.js","name":"append","original":{"line":14,"column":3},"generated":{"line":1,"column":842}},{"source":"choropleth-chart.js","original":{"line":14,"column":10},"generated":{"line":1,"column":849}},{"source":"choropleth-chart.js","name":"attr","original":{"line":15,"column":3},"generated":{"line":1,"column":856}},{"source":"choropleth-chart.js","original":{"line":15,"column":8},"generated":{"line":1,"column":861}},{"source":"choropleth-chart.js","name":"height","original":{"line":15,"column":18},"generated":{"line":1,"column":870}},{"source":"choropleth-chart.js","name":"margin","original":{"line":15,"column":27},"generated":{"line":1,"column":872}},{"source":"choropleth-chart.js","name":"top","original":{"line":15,"column":34},"generated":{"line":1,"column":874}},{"source":"choropleth-chart.js","name":"margin","original":{"line":15,"column":40},"generated":{"line":1,"column":878}},{"source":"choropleth-chart.js","name":"bottom","original":{"line":15,"column":47},"generated":{"line":1,"column":880}},{"source":"choropleth-chart.js","name":"attr","original":{"line":16,"column":3},"generated":{"line":1,"column":888}},{"source":"choropleth-chart.js","original":{"line":16,"column":8},"generated":{"line":1,"column":893}},{"source":"choropleth-chart.js","name":"width","original":{"line":16,"column":17},"generated":{"line":1,"column":901}},{"source":"choropleth-chart.js","name":"margin","original":{"line":16,"column":25},"generated":{"line":1,"column":903}},{"source":"choropleth-chart.js","name":"left","original":{"line":16,"column":32},"generated":{"line":1,"column":905}},{"source":"choropleth-chart.js","name":"margin","original":{"line":16,"column":39},"generated":{"line":1,"column":910}},{"source":"choropleth-chart.js","name":"right","original":{"line":16,"column":46},"generated":{"line":1,"column":912}},{"source":"choropleth-chart.js","name":"append","original":{"line":17,"column":3},"generated":{"line":1,"column":919}},{"source":"choropleth-chart.js","original":{"line":17,"column":10},"generated":{"line":1,"column":926}},{"source":"choropleth-chart.js","name":"attr","original":{"line":18,"column":3},"generated":{"line":1,"column":931}},{"source":"choropleth-chart.js","original":{"line":18,"column":8},"generated":{"line":1,"column":936}},{"source":"choropleth-chart.js","original":{"line":18,"column":21},"generated":{"line":1,"column":948}},{"source":"choropleth-chart.js","name":"margin","original":{"line":18,"column":36},"generated":{"line":1,"column":961}},{"source":"choropleth-chart.js","name":"left","original":{"line":18,"column":43},"generated":{"line":1,"column":963}},{"source":"choropleth-chart.js","original":{"line":18,"column":50},"generated":{"line":1,"column":968}},{"source":"choropleth-chart.js","name":"margin","original":{"line":18,"column":56},"generated":{"line":1,"column":972}},{"source":"choropleth-chart.js","name":"top","original":{"line":18,"column":63},"generated":{"line":1,"column":974}},{"source":"choropleth-chart.js","original":{"line":18,"column":69},"generated":{"line":1,"column":978}},{"source":"choropleth-chart.js","name":"projection","original":{"line":21,"column":4},"generated":{"line":1,"column":983}},{"source":"choropleth-chart.js","name":"d3","original":{"line":21,"column":17},"generated":{"line":1,"column":985}},{"source":"choropleth-chart.js","name":"geoEqualEarth","original":{"line":22,"column":3},"generated":{"line":1,"column":987}},{"source":"choropleth-chart.js","name":"scale","original":{"line":23,"column":3},"generated":{"line":1,"column":1003}},{"source":"choropleth-chart.js","name":"width","original":{"line":23,"column":9},"generated":{"line":1,"column":1009}},{"source":"choropleth-chart.js","original":{"line":23,"column":17},"generated":{"line":1,"column":1011}},{"source":"choropleth-chart.js","name":"Math","original":{"line":23,"column":21},"generated":{"line":1,"column":1013}},{"source":"choropleth-chart.js","name":"PI","original":{"line":23,"column":26},"generated":{"line":1,"column":1018}},{"source":"choropleth-chart.js","name":"translate","original":{"line":24,"column":3},"generated":{"line":1,"column":1022}},{"source":"choropleth-chart.js","original":{"line":24,"column":13},"generated":{"line":1,"column":1032}},{"source":"choropleth-chart.js","name":"width","original":{"line":24,"column":14},"generated":{"line":1,"column":1033}},{"source":"choropleth-chart.js","original":{"line":24,"column":22},"generated":{"line":1,"column":1035}},{"source":"choropleth-chart.js","name":"height","original":{"line":24,"column":25},"generated":{"line":1,"column":1037}},{"source":"choropleth-chart.js","original":{"line":24,"column":34},"generated":{"line":1,"column":1039}},{"source":"choropleth-chart.js","name":"path","original":{"line":25,"column":4},"generated":{"line":1,"column":1043}},{"source":"choropleth-chart.js","name":"d3","original":{"line":25,"column":11},"generated":{"line":1,"column":1045}},{"source":"choropleth-chart.js","name":"geoPath","original":{"line":25,"column":14},"generated":{"line":1,"column":1047}},{"source":"choropleth-chart.js","name":"projection","original":{"line":25,"column":24},"generated":{"line":1,"column":1057}},{"source":"choropleth-chart.js","name":"projection","original":{"line":25,"column":35},"generated":{"line":1,"column":1068}},{"source":"choropleth-chart.js","name":"data","original":{"line":28,"column":4},"generated":{"line":1,"column":1071}},{"source":"choropleth-chart.js","name":"d3","original":{"line":28,"column":11},"generated":{"line":1,"column":1073}},{"source":"choropleth-chart.js","name":"map","original":{"line":28,"column":14},"generated":{"line":1,"column":1075}},{"source":"choropleth-chart.js","name":"colorScale","original":{"line":31,"column":4},"generated":{"line":1,"column":1081}},{"source":"choropleth-chart.js","name":"d3","original":{"line":31,"column":17},"generated":{"line":1,"column":1083}},{"source":"choropleth-chart.js","name":"scaleThreshold","original":{"line":32,"column":3},"generated":{"line":1,"column":1085}},{"source":"choropleth-chart.js","name":"domain","original":{"line":33,"column":3},"generated":{"line":1,"column":1102}},{"source":"choropleth-chart.js","name":"d3","original":{"line":33,"column":10},"generated":{"line":1,"column":1109}},{"source":"choropleth-chart.js","name":"range","original":{"line":33,"column":13},"generated":{"line":1,"column":1111}},{"source":"choropleth-chart.js","original":{"line":33,"column":19},"generated":{"line":1,"column":1117}},{"source":"choropleth-chart.js","original":{"line":33,"column":22},"generated":{"line":1,"column":1119}},{"source":"choropleth-chart.js","name":"range","original":{"line":34,"column":3},"generated":{"line":1,"column":1125}},{"source":"choropleth-chart.js","name":"d3","original":{"line":34,"column":9},"generated":{"line":1,"column":1131}},{"source":"choropleth-chart.js","name":"schemeRdPu","original":{"line":34,"column":12},"generated":{"line":1,"column":1133}},{"source":"choropleth-chart.js","original":{"line":34,"column":23},"generated":{"line":1,"column":1144}},{"source":"choropleth-chart.js","name":"promises","original":{"line":86,"column":4},"generated":{"line":1,"column":1148}},{"source":"choropleth-chart.js","original":{"line":86,"column":15},"generated":{"line":1,"column":1150}},{"source":"choropleth-chart.js","name":"d3","original":{"line":87,"column":2},"generated":{"line":1,"column":1151}},{"source":"choropleth-chart.js","name":"json","original":{"line":87,"column":5},"generated":{"line":1,"column":1153}},{"source":"choropleth-chart.js","original":{"line":87,"column":10},"generated":{"line":1,"column":1158}},{"source":"choropleth-chart.js","name":"d3","original":{"line":88,"column":2},"generated":{"line":1,"column":1222}},{"source":"choropleth-chart.js","name":"csv","original":{"line":88,"column":5},"generated":{"line":1,"column":1224}},{"source":"choropleth-chart.js","name":"require","original":{"line":88,"column":9},"generated":{"line":1,"column":1228}},{"source":"choropleth-chart.js","original":{"line":88,"column":17},"generated":{"line":1,"column":1236}},{"source":"choropleth-chart.js","original":{"line":88,"column":76},"generated":{"line":1,"column":1294}},{"source":"choropleth-chart.js","name":"d","original":{"line":88,"column":85},"generated":{"line":1,"column":1303}},{"source":"choropleth-chart.js","name":"set","original":{"line":89,"column":9},"generated":{"line":1,"column":1306}},{"source":"choropleth-chart.js","name":"set","original":{"line":89,"column":9},"generated":{"line":1,"column":1308}},{"source":"choropleth-chart.js","name":"d","original":{"line":89,"column":13},"generated":{"line":1,"column":1312}},{"source":"choropleth-chart.js","name":"code","original":{"line":89,"column":15},"generated":{"line":1,"column":1314}},{"source":"choropleth-chart.js","name":"d","original":{"line":89,"column":22},"generated":{"line":1,"column":1320}},{"source":"choropleth-chart.js","name":"Casualties","original":{"line":89,"column":24},"generated":{"line":1,"column":1322}},{"source":"choropleth-chart.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1337}},{"source":"choropleth-chart.js","name":"ready","original":{"line":95,"column":9},"generated":{"line":1,"column":1346}},{"source":"choropleth-chart.js","original":{"line":95,"column":23},"generated":{"line":1,"column":1348}},{"source":"choropleth-chart.js","original":{"line":95,"column":23},"generated":{"line":1,"column":1351}},{"source":"choropleth-chart.js","name":"json","original":{"line":95,"column":16},"generated":{"line":1,"column":1355}},{"source":"choropleth-chart.js","original":{"line":95,"column":23},"generated":{"line":1,"column":1357}},{"source":"choropleth-chart.js","original":{"line":95,"column":23},"generated":{"line":1,"column":1359}},{"source":"choropleth-chart.js","original":{"line":95,"column":23},"generated":{"line":1,"column":1361}},{"source":"choropleth-chart.js","original":{"line":95,"column":23},"generated":{"line":1,"column":1364}},{"source":"choropleth-chart.js","name":"append","original":{"line":100,"column":5},"generated":{"line":1,"column":1367}},{"source":"choropleth-chart.js","name":"append","original":{"line":100,"column":5},"generated":{"line":1,"column":1369}},{"source":"choropleth-chart.js","original":{"line":100,"column":12},"generated":{"line":1,"column":1376}},{"source":"choropleth-chart.js","name":"attr","original":{"line":101,"column":5},"generated":{"line":1,"column":1381}},{"source":"choropleth-chart.js","original":{"line":101,"column":10},"generated":{"line":1,"column":1386}},{"source":"choropleth-chart.js","original":{"line":101,"column":19},"generated":{"line":1,"column":1394}},{"source":"choropleth-chart.js","name":"selectAll","original":{"line":102,"column":5},"generated":{"line":1,"column":1407}},{"source":"choropleth-chart.js","original":{"line":102,"column":15},"generated":{"line":1,"column":1417}},{"source":"choropleth-chart.js","name":"data","original":{"line":103,"column":5},"generated":{"line":1,"column":1425}},{"source":"choropleth-chart.js","name":"json","original":{"line":103,"column":10},"generated":{"line":1,"column":1430}},{"source":"choropleth-chart.js","name":"features","original":{"line":103,"column":15},"generated":{"line":1,"column":1432}},{"source":"choropleth-chart.js","name":"enter","original":{"line":104,"column":5},"generated":{"line":1,"column":1442}},{"source":"choropleth-chart.js","name":"append","original":{"line":105,"column":5},"generated":{"line":1,"column":1450}},{"source":"choropleth-chart.js","original":{"line":105,"column":12},"generated":{"line":1,"column":1457}},{"source":"choropleth-chart.js","name":"attr","original":{"line":106,"column":5},"generated":{"line":1,"column":1465}},{"source":"choropleth-chart.js","original":{"line":106,"column":10},"generated":{"line":1,"column":1470}},{"source":"choropleth-chart.js","original":{"line":106,"column":18},"generated":{"line":1,"column":1477}},{"source":"choropleth-chart.js","name":"d","original":{"line":106,"column":27},"generated":{"line":1,"column":1486}},{"source":"choropleth-chart.js","name":"d","original":{"line":107,"column":10},"generated":{"line":1,"column":1489}},{"source":"choropleth-chart.js","name":"d","original":{"line":107,"column":10},"generated":{"line":1,"column":1496}},{"source":"choropleth-chart.js","name":"colorScale","original":{"line":108,"column":15},"generated":{"line":1,"column":1498}},{"source":"choropleth-chart.js","name":"d","original":{"line":108,"column":27},"generated":{"line":1,"column":1500}},{"source":"choropleth-chart.js","name":"Casualties","original":{"line":108,"column":29},"generated":{"line":1,"column":1502}},{"source":"choropleth-chart.js","name":"data","original":{"line":108,"column":42},"generated":{"line":1,"column":1513}},{"source":"choropleth-chart.js","name":"get","original":{"line":108,"column":47},"generated":{"line":1,"column":1515}},{"source":"choropleth-chart.js","name":"d","original":{"line":108,"column":51},"generated":{"line":1,"column":1519}},{"source":"choropleth-chart.js","name":"id","original":{"line":108,"column":53},"generated":{"line":1,"column":1521}},{"source":"choropleth-chart.js","original":{"line":110,"column":15},"generated":{"line":1,"column":1526}},{"source":"choropleth-chart.js","name":"attr","original":{"line":117,"column":5},"generated":{"line":1,"column":1535}},{"source":"choropleth-chart.js","original":{"line":117,"column":10},"generated":{"line":1,"column":1540}},{"source":"choropleth-chart.js","name":"path","original":{"line":117,"column":15},"generated":{"line":1,"column":1544}},{"source":"choropleth-chart.js","name":"attr","original":{"line":118,"column":5},"generated":{"line":1,"column":1547}},{"source":"choropleth-chart.js","original":{"line":118,"column":10},"generated":{"line":1,"column":1552}},{"source":"choropleth-chart.js","original":{"line":118,"column":20},"generated":{"line":1,"column":1561}},{"source":"choropleth-chart.js","name":"attr","original":{"line":119,"column":5},"generated":{"line":1,"column":1572}},{"source":"choropleth-chart.js","original":{"line":119,"column":10},"generated":{"line":1,"column":1577}},{"source":"choropleth-chart.js","original":{"line":119,"column":26},"generated":{"line":1,"column":1592}},{"source":"choropleth-chart.js","name":"Promise","original":{"line":93,"column":0},"generated":{"line":1,"column":1596}},{"source":"choropleth-chart.js","name":"all","original":{"line":93,"column":8},"generated":{"line":1,"column":1604}},{"source":"choropleth-chart.js","name":"promises","original":{"line":93,"column":12},"generated":{"line":1,"column":1608}},{"source":"choropleth-chart.js","name":"then","original":{"line":93,"column":22},"generated":{"line":1,"column":1611}},{"source":"choropleth-chart.js","name":"ready","original":{"line":93,"column":27},"generated":{"line":1,"column":1616}}],"sources":{"choropleth-chart.js":"import * as d3 from 'd3'\nimport * as topojson from 'topojson'\nimport legend from 'd3-svg-legend'\n// import { scaleBand } from 'd3-scale'\n\nlet margin = { top: 10, left: 10, right: 10, bottom: 10 }\n\nlet height = 500 - margin.top - margin.bottom\n\nlet width = 900 - margin.left - margin.right\n\nlet svg = d3\n  .select('#choropleth-chart')\n  .append('svg')\n  .attr('height', height + margin.top + margin.bottom)\n  .attr('width', width + margin.left + margin.right)\n  .append('g')\n  .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n\n// map and projection\nvar projection = d3\n  .geoEqualEarth()\n  .scale(width / 2 / Math.PI)\n  .translate([width / 2, height / 2])\nvar path = d3.geoPath().projection(projection)\n\n// create a variable to store data from the csv\nvar data = d3.map()\n\n// create color scale for the choropleth\nvar colorScale = d3\n  .scaleThreshold()\n  .domain(d3.range(0, 160))\n  .range(d3.schemeRdPu[8])\n   // .unknown('#ffffff')\n\n\n// Legend\n// var g = svg\n//   .append('g')\n//   .attr('class', 'legendThreshold')\n//   .attr('transform', 'translate(20,20)')\n// g.append('text')\n//   .attr('class', 'caption')\n//   .attr('x', 0)\n//   .attr('y', -6)\n//   .text('Students')\n// var labels = ['0', '1-5', '6-10', '11-25', '26-100', '101-1000', '> 1000']\n\n// var legend = d3\n//   .legendColor()\n//   .labels(function(d) {\n//     return labels[d.i]\n//   })\n//   .shapePadding(4)\n//   .scale(colorScale)\n// svg.select('.legendThreshold').call(legend)\n\n// NEW LEGEND\n// var quantize = d3\n//   .scaleQuantize()\n//   .domain([0, 0.15])\n//   .range(\n//     d3.range(9).map(function(i) {\n//       return 'q' + i + '-9'\n//     })\n//   )\n\n// svg\n//   .append('g')\n//   .attr('class', 'legendQuant')\n//   .attr('transform', 'translate(20,20)')\n\n// var legend = d3\n//   .legendColor()\n//   .labelFormat(d3.format('.2f'))\n//   .useClass(true)\n//   .title('A really long title')\n//   .titleWidth(100)\n//   .scale(quantize)\n\n// svg.select('.legendQuant').call(legend)\n\n// read in the data\n\nvar promises = [\n  d3.json('https://enjalot.github.io/wwsd/data/world/world-110m.geojson'),\n  d3.csv(require('./data/selfiedeaths_grouped_coded_allcountries_fix.csv'), function(d) {\n    data.set(d.code, +d.Casualties)\n  })\n]\n\nPromise.all(promises).then(ready)\n\nfunction ready([json]) {\n  // console.log(json)\n  // console.log(json.features)\n\n  svg\n    .append('g')\n    .attr('class', 'countries')\n    .selectAll('path')\n    .data(json.features)\n    .enter()\n    .append('path')\n    .attr('fill', function(d) {\n      if (d) {\n        return colorScale((d.Casualties = data.get(d.id)))\n      } else {\n        return '#ccc'\n      }\n    })\n    // .style(\n    //   'fill',\n    //   d => (d ? colorScale((d.Casualties = data.get(d.id))) : 'white')\n    // )\n    .attr('d', path)\n    .attr('stroke', '#888888')\n    .attr('stroke-width', 0.5)\n}\n"},"lineCount":null}},"hash":"7175f3f4ef486ea48e03af624e5b1138","cacheData":{"env":{}}}